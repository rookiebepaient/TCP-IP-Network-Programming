# 10.3 信号处理
父进程往往和子进程一样繁忙，因此不能只调用waitpid函数以等待子进程停止
## 向操作系统求助
`信号处理`机制，信号是指在特定事件发生时由操作系统向进程发送消息。为了响应该消息，执行与消息相关的自定义操作和过程被称为`处理`或`信号处理`
## 信号与signal函数
`注册信号`过程，即进程发现自己的子进程结束时，请求操作系统调用特定函数。该请求通过如下函数调用完成(信号注册函数)
```C++
#include <signal.h>

void (* signal(int signo, void *(func)(int)))(int);
```
## 利用sigaction函数进行信号处理
`sigaction`函数可以完全替代`signa`函数，它更稳定，因为在UNIX系列的不同操作系统中，它的功能完全相同
```C++
#include <signal.h>

/// @param [in] signo 传递信号信息
/// @param [in] act 对应于第一个参数信号处理函数信息
/// @param [in] oldact 获取之前注册的信号处理函数指针，若不需要则传递0
/// @return 成功时返回0，失败时返回-1
int sigaciton(int signo, const struct sigaction *act, struct sigaction *oldact);

struct sigaction {
    void (*sa_handler)(int);
    sigset_t sa_mask;
    int sa_flags;
}
/** sa_handler成员保存信号处理函数的指针值
 * sa_mask，sa_flags 用于指定信号相关的选项和特性，此处的目的主要是防止产生僵尸进程，可以直接设置为0
*/
```